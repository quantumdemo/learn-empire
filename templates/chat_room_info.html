{% extends "base.html" %}

{% block title %}{{ room.name }} - Info{% endblock %}

{% block content %}
<div class="container">
    <h2>{{ room.name }}</h2>
    <p><em>{{ room.description }}</em></p>
    <hr>

    <h4>Room Details</h4>
    <ul>
        <li><strong>Type:</strong> {{ room.room_type|capitalize }}</li>
        <li><strong>Created by:</strong> {{ room.creator.name }} on {{ room.created_at.strftime('%Y-%m-%d') }}</li>
        <li><strong>Speech-to-Text:</strong> {% if room.speech_enabled %}Enabled{% else %}Disabled{% endif %}</li>
        <li><strong>Members:</strong> {{ members|length }}</li>
    </ul>

    <h4>Members</h4>
    <ul class="list-group">
        {% for member in members %}
            <li class="list-group-item">{{ member.user.name }} ({{ member.role_in_room }})</li>
        {% endfor %}
    </ul>

    {% if current_user.role == 'admin' or (current_user.id == room.created_by_id) %}
    <hr>
    <h4>Admin Controls</h4>
    <div class="admin-controls">
        <p>Admin controls (edit description, add/remove members, lock/unlock, pin messages) will be here.</p>
        {# Add actual forms and buttons for these actions later #}
    </div>
    {% endif %}

    <a href="{{ url_for('main.chat_room', room_id=room.id) }}" class="btn btn-secondary mt-3">Back to Chat</a>
</div>
{% endblock %}
